<!DOCTYPE html>
<html>
    <head>
        <title>Cooltab</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
        <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Google+Sans" rel="stylesheet">
        <link rel="icon" href="./img/CoolTab.svg">
        <style>
            body {
                width: 100%;
                height: 100%;
                --bg-url: url('./taptappingu.gif');
                background-image: var(--bg-url);
                background-size: cover;
                background-attachment: fixed;
                background-position: center;
                overflow-x: hidden;
                color: white;
                font-family: 'Inter';
            }
            [glass] {
                background: #282828B5;
                backdrop-filter: blur(15px) contrast(80%);
                box-shadow: 0 0 10px rgba(0,0,0,0.5);
                transition: all 0.2s ease-in-out;
            }
            .bottom_bar {
                display: flex;
                align-items: center;
                border-radius: 24px;
                padding: 12px 50px;
                height: 48px;
                width: clamp(1200px, 1224px, 90%);
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                bottom: 16px;
                gap: 12px;
            }
            img { width: 48px; height: 48px; transition: transform 0.16s ease-in-out; }
            img:hover { transform: scale(1.1); }
            .search_bar {
                background: #282828;
                border-radius: 50px;
                height: 36px;
                width: clamp(900px, 975px, 75%);
                position: absolute;
                bottom: 116px;
                left: 50%;
                transform: translateX(-50%);
                padding: 6px;
                display: flex;
                align-items: center;
                transition: bottom 0.16s ease-in-out;
                z-index: 1001;
            }
            .search_bar.active { bottom: 65%; }
            .ai {
                position: relative;
                padding: 8px 20px;
                margin-left: -2px;
                font-weight: 500;
                font-size: 14px;
                font-family: 'Google Sans', 'Inter', sans-serif;
                color: white;
                background-color: transparent;
                border-radius: 50px;
                cursor: pointer;
                border: none;
                overflow: hidden;
                z-index: 1;
                transition: opacity 400ms linear;
            }
            .ai.init::before { animation: initial-fade-rotate 2s linear forwards; }
            .ai::before {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                width: 400%;
                height: 400%;
                background: conic-gradient(
                    from 180deg at 50% 50%,
                    #3186ff 0deg,
                    #34a853 43deg,
                    #ffd314 65deg,
                    #ff4641 105deg,
                    #3186ff 144deg,
                    #3186ff 180deg,
                    rgba(49, 134, 255, 0) 324deg,
                    rgba(49, 134, 255, 0) 360deg
                );
                opacity: 0;
                z-index: -2;
                transition: opacity 400ms linear;
            }
            .ai:hover::before { opacity: 1; animation: rotate-gradient 5000ms linear infinite; }
            .ai::after {
                content: '';
                position: absolute;
                top: 1.5px;
                left: 1.5px;
                width: calc(100% - 3px);
                height: calc(100% - 3px);
                background: #3F3F3F;
                border-radius: 49px;
                z-index: -1;
            }
            .ai span { position: relative; z-index: 2; }
            @keyframes initial-fade-rotate {
                0%   { opacity: 0; transform: translate(-50%, -50%) rotate(0deg); }
                30%  { opacity: 1; }
                50%  { opacity: 1; }
                100% { opacity: 0; transform: translate(-50%, -50%) rotate(180deg); }
            }
            @keyframes rotate-gradient { from { transform: translate(-50%, -50%) rotate(0deg); } to { transform: translate(-50%, -50%) rotate(360deg); } }
            ::placeholder { color: #838383; }
            #search {
                background: none;
                border: none;
                width: 100%;
                font-size: 16px;
                font-family: 'Inter', sans-serif;
                color: white;
            }
            #search:focus { outline: none; background: #282828; border: none; color: white; }
            nav {
                width: 98%;
                height: 100px;
                display: flex;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            #clock_shell {
                background: #282828;
                border-radius: 50px;
                height: 72px;
                width: clamp(200px, 264px, 30%);
                display: flex;
                align-items: center;
                z-index: 1000;
                padding: 6px;
                gap: 12px;
            }
            #clock_shell iframe { height: 66px; width: 66px; border: none; }
            #clock_shell span { color: white; }
            .widgets { color: white; font-size: 24px; display: flex; flex-direction: row; align-items: center; gap: 12px; border-radius: 16px; padding: 10px 24px; }
            .widgets a { text-decoration: none; }
            #apps {
                position: absolute;
                top: 110px;
                right: -80%;
                z-index: 1000;
                padding: 0;
                border: none;
                border-radius: 16px;
                overflow-x: hidden;
            }
            #apps:not([open]) { display: none; }
            .apps_grid {
                display: grid;
                width: 255px;
                height: 348px;
                max-height: 348px;
                opacity: 1;
                grid-template-rows: auto;
                grid-template-columns: repeat(3, 1fr);
                row-gap: 0;
                column-gap: 12px;
                padding: 12px;
                overflow-x: hidden;
                overflow-y: scroll;
                scrollbar-width: 100px;
                scrollbar-color: #282828 transparent;
            }
            .apps_grid a {
                border-radius: 12px;
                background: none;
                transition: background 0.16s ease;
                padding: 12px;
                min-height: 64px;
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 6px;
                text-decoration: none;
                position: relative;
            }
            .apps_grid a > img {
                width: 48px;
                height: 48px;
                object-fit: cover;
                transition: transform 0.16s ease;
            }
            .apps_grid a > img:hover { transform: translateY(-2px); }
            .apps_grid a:hover { background: #545454; }
            .apps_grid span {
                color: white;
                font-size: 12px;
                line-height: 1;
                white-space: nowrap;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
                bottom: 8px;
                opacity: 0;
                transition: opacity 120ms ease;
                pointer-events: none;
            }
            .apps_grid a:hover > span { opacity: 1; }
            #suggestions {
                background: #282828;
                border-radius: 24px;
                width: clamp(900px, 975px, 75%);
                position: absolute;
                bottom: 164px;
                left: 50%;
                transform: translateX(-50%);
                padding: 12px 0px;
                display: none;
                color: white;
                font-family: 'Inter', sans-serif;
            }
            #suggestions.active { display: block; }
            .suggestion-item { padding: 8px 18px; cursor: pointer; }
            .suggestion-item:hover { background: #3c3c3c; }
            #changelog {
                border-radius: 32px;
                overflow-x: hidden;
                width: 600px;
                height: 700px; /*No joke included, I just liked the aspect ratio of 6:7*/
                padding: 0;
                border: none;
                outline: none;
            }
            #changelog .content {
                padding: 16px 32px;
                gap: 10px;
                width: 100%;
                height: fit-content;
                color: white;
            }
            #changelog .content img { width: 536px; height: 265px; }
            #changelog .content button { 
                background: #333333;
                color: white;
                position: fixed;
                right: 32px;
                padding: 4px 12px;
                font-size: 24px;
                outline: none;
                border: 1px solid white;
                border-radius: 8px;
                cursor: pointer;
                transition: transform 0.16s ease;
            }
            #changelog .content button:hover { transform: scale(1.01); }
            #changelog::backdrop { background: black; opacity: 0.6; }
        </style>
    </head>
    <body>
        <span style="position: absolute; top: 1px; left: 1.5px; color: white; font-size: 12px;">Under Apache-2.0 License - Version 1.3 by Mewinator</span>
        <nav>
            <div id="clock_shell">
                <iframe src="./clock.html"></iframe>
                <div>
                    <span id="date"></span>
                    <br>
                    <span id="hhmmss"></span>
                    <span id="ampm"></span>
                </div>
            </div>
            <div class="widgets" glass>
                <a style="color: white;" id="mail" href="https://mail.google.com/"><span>Mail</span></a>
                <span id="app_button" class="material-symbols-outlined" style="cursor: pointer; font-size: 32px;">apps</span>
                <span class="material-symbols-outlined" style="cursor: pointer; font-size: 32px;" onclick="window.location.href='./settings.html'">settings</span>
            </div>
        </nav>
        <div class="search_bar">
            <div style="height: 38px; width: calc(100% - 96px); display: flex; align-items: center; gap: 12px;">
                <img src="./img/duck.png" style="width: 38px; height: 38px;">
                <input id="search" type="text" placeholder="Search...">
            </div>
            <!--<a href="[(AI URL)]"><button class="ai init"><span>[(AI NAME)]</span></button></a>-->
        </div>
        <div id="suggestions"></div>
        <div glass class=" bottom_bar">
            <a title="Firebase Studio - My personal favorite vscode editor on the web" href="https://studio.firebase.google.com"><img style="width: 53px; height: 53px;" src="./img/firebase.png"></a>
            <a title="Onecompiler - Fast online code editor of choice" href="https://onecompiler.com"><img src="./img/onecompiler.png"></a>
            <a title="Figma - Design editor for UI/UX" href="https://figma.com"><img style="border-radius: 9px;" src="./img/figma.png"></a>
            <a title="Github - Hmm.. lots of code" href="https://github.com"><img style="border-radius: 9px;" src="./img/github.svg"></a>
        </div>
        <dialog glass id="apps">
            <div style="display: flex; align-items: center; background: #4c4c4c; height: 16px; width: 100%; border-radius: 16px 16px 0 0; padding: 6px;">
                <svg viewBox="0 0 50 14" height="14" width="50">
                    <circle cx="7" cy="7" r="7" fill="#FF5656"></circle>
                    <circle cx="25" cy="7" r="7" fill="#FFCF56"></circle>
                    <circle cx="43" cy="7" r="7" fill="#44D950"></circle>
                </svg>
            </div>
            <div class="apps_grid"></div>
        </dialog>
        <dialog id="changelog" glass>
            <div style="display: flex; align-items: center; background: #4c4c4c; height: 18px; width: 100%; border-radius: 16px 16px 0 0; padding: 6px;">
                <svg viewBox="0 0 64 16" height="14" width="50">
                    <circle cx="14" cy="8" r="7" fill="#FF5656"></circle>
                    <circle cx="32" cy="8" r="7" fill="#FFCF56"></circle>
                    <circle cx="50" cy="8" r="7" fill="#44D950"></circle>
                </svg>
            </div>
            <div class="content">
                <h1>Cooltab version 1.3</h1>
                <img src="./img/CoolTab.svg">
                <h2>Changelog</h2>
                <ul style="font-size: 20px;">
                    <li>New structure for apps/site storage
                        <ul>
                            <li>The apps have titles that you can hover to see</li>
                        </ul>
                    </li>
                    <li>LocalStorage no more!
                        <ul>
                            <li>There is no more localStorage used in this.</li>
                            <li>Blob: storage is now used to save all data.</li>
                        </ul>
                    </li>
                    <li>Added storage.js</li>
                </ul>
                <button onclick="hideChangelog()">Close</button>
            </div>
        </dialog>
        <script defer src="./storage.js"></script>
        <script defer src="./newtab.js"></script>
    </body>
</html>